"use strict";(self.webpackChunkrf_website=self.webpackChunkrf_website||[]).push([[5950],{78069:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>h,toc:()=>c});var n=s(85893),t=s(11151);const r={title:"Hierarchies",description:"Hierarchies are the wheel we're happy to re-invent over and over and over again.",url:"https://riskfirst.org/complexity/Hierarchies",featured:{class:"bg1",element:'<image-artifact imgsrc="/public/templates/risk-first/redesign/risks/complexity_risk.svg">Hierarchies</image-artifact>'},tags:["Complexity"],sidebar_position:1,tweet:"yes"},a="Hierarchies",h={id:"complexity/Hierarchies",title:"Hierarchies",description:"Hierarchies are the wheel we're happy to re-invent over and over and over again.",source:"@site/docs/complexity/Hierarchies.md",sourceDirName:"complexity",slug:"/complexity/Hierarchies",permalink:"/complexity/Hierarchies",draft:!1,unlisted:!1,editUrl:"https://github.com/risk-first/website/blob/master/docs/complexity/Hierarchies.md",tags:[{label:"Complexity",permalink:"/tags/complexity"}],version:"current",sidebarPosition:1,frontMatter:{title:"Hierarchies",description:"Hierarchies are the wheel we're happy to re-invent over and over and over again.",url:"https://riskfirst.org/complexity/Hierarchies",featured:{class:"bg1",element:'<image-artifact imgsrc="/public/templates/risk-first/redesign/risks/complexity_risk.svg">Hierarchies</image-artifact>'},tags:["Complexity"],sidebar_position:1,tweet:"yes"},sidebar:"tutorialSidebar",previous:{title:"On Complexity",permalink:"/complexity/Start"},next:{title:"Crystals And Code",permalink:"/complexity/Crystals-And-Code"}},o={},c=[{value:"&quot;Hierarchies are the wheel we&#39;re happy to re-invent over and over and over again.&quot;",id:"hierarchies-are-the-wheel-were-happy-to-re-invent-over-and-over-and-over-again",level:5},{value:"A Javascript Example",id:"a-javascript-example",level:2},{value:"A LISP Example",id:"a-lisp-example",level:2},{value:"A Desktop Example",id:"a-desktop-example",level:2},{value:"Hierarchies Everywhere",id:"hierarchies-everywhere",level:2},{value:"The Curse Of Reinvention",id:"the-curse-of-reinvention",level:2},{value:"Syntax Trees",id:"syntax-trees",level:2},{value:"Intent",id:"intent",level:2},{value:"Without Compositional Hierarchy",id:"without-compositional-hierarchy",level:2},{value:"Subsumptive Hierarchies",id:"subsumptive-hierarchies",level:2},{value:"Planets",id:"planets",level:2},{value:"Generics",id:"generics",level:2},{value:"Both Hierarchies Together",id:"both-hierarchies-together",level:2},{value:"Compositional Hierarchy Implementations",id:"compositional-hierarchy-implementations",level:2},{value:"Java",id:"java",level:3},{value:"URLs",id:"urls",level:3},{value:"HATEOAS",id:"hateoas",level:3},{value:"Why Bother?",id:"why-bother",level:2}];function l(e){const i={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h5:"h5",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"hierarchies",children:"Hierarchies"}),"\n",(0,n.jsx)(i.h5,{id:"hierarchies-are-the-wheel-were-happy-to-re-invent-over-and-over-and-over-again",children:'"Hierarchies are the wheel we\'re happy to re-invent over and over and over again."'}),"\n",(0,n.jsxs)(i.p,{children:["Have you noticed just how prevalent the idea of ",(0,n.jsx)(i.em,{children:"heirarchy"})," is in software?  By hierarchy, I mean a general pattern of ",(0,n.jsx)(i.em,{children:"connectedness"}),", where a ",(0,n.jsx)(i.em,{children:"parent"})," has some ",(0,n.jsx)(i.em,{children:"children"}),", who, in turn, may each have some further children, and so on."]}),"\n",(0,n.jsx)(i.p,{children:"This is a really popular pattern.  But what's odd about it is that we seem to re-invent it over and over again in software."}),"\n",(0,n.jsxs)(i.p,{children:["In this article, I am going to look at the two basic types of hierarchy, ",(0,n.jsx)(i.em,{children:"compositional"})," and ",(0,n.jsx)(i.em,{children:"subsumptive"}),", explaining what these are and giving examples of where we see them whether that's in programming languages, computing generally or other areas of life."]}),"\n",(0,n.jsxs)(i.p,{children:["The chief claim of this article is that our inability to consistently generalise the pattern of hierarchy has been a ",(0,n.jsx)(i.em,{children:"lost opportunity"}),".  But nevertheless, we'll look at some attempts to abstract hierarchy in software systems, and talk about what is lost by not having a single abstraction for hierarchy."]}),"\n",(0,n.jsx)(i.p,{children:"So let's start with..."}),"\n",(0,n.jsx)(i.h2,{id:"a-javascript-example",children:"A Javascript Example"}),"\n",(0,n.jsxs)(i.p,{children:["Here's some code from the ",(0,n.jsx)(i.a,{href:"https://www.chartjs.org/docs/latest/#creating-a-chart",children:"ChartJS"})," website I was looking at, just the other day:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-html",children:"<canvas id=\"myChart\" width=\"400\" height=\"400\"></canvas>\n<script>\nvar ctx = document.getElementById('myChart').getContext('2d');\nvar myChart = new Chart(ctx, {\n    type: 'bar',\n    data: {\n        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],\n        datasets: [{\n            label: '# of Votes',\n            data: [12, 19, 3, 5, 2, 3],\n            backgroundColor: [\n                'rgba(255, 99, 132, 0.2)',\n                'rgba(54, 162, 235, 0.2)',\n                'rgba(255, 206, 86, 0.2)',\n                'rgba(75, 192, 192, 0.2)',\n                'rgba(153, 102, 255, 0.2)',\n                'rgba(255, 159, 64, 0.2)'\n            ],\n            borderColor: [\n                'rgba(255, 99, 132, 1)',\n                'rgba(54, 162, 235, 1)',\n                'rgba(255, 206, 86, 1)',\n                'rgba(75, 192, 192, 1)',\n                'rgba(153, 102, 255, 1)',\n                'rgba(255, 159, 64, 1)'\n            ],\n            borderWidth: 1\n        }]\n    }\n});\n<\/script>\n"})}),"\n",(0,n.jsx)(i.p,{children:"We've got..."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["A hierarchy of ",(0,n.jsx)(i.strong,{children:"tags"})," such as ",(0,n.jsx)(i.code,{children:"<canvas>"}),", ",(0,n.jsx)(i.code,{children:"<script>"})," and so on."]}),"\n",(0,n.jsxs)(i.li,{children:["We have ",(0,n.jsx)(i.strong,{children:"attributes"})," on the tags, like ",(0,n.jsx)(i.code,{children:"width"})," and ",(0,n.jsx)(i.code,{children:"height"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["Within the ",(0,n.jsx)(i.code,{children:"<script>"})," tag, we have a hierarchy of ",(0,n.jsx)(i.strong,{children:"statements"}),", where we assign the variables",(0,n.jsx)(i.code,{children:"ctx"})," and ",(0,n.jsx)(i.code,{children:"myChart"})," in order."]}),"\n",(0,n.jsxs)(i.li,{children:["A hierarchy of method calls on ",(0,n.jsx)(i.strong,{children:"objects"}),", such as: ",(0,n.jsx)(i.code,{children:"document.getElementById('myChart').getContext('2d')"})]}),"\n",(0,n.jsxs)(i.li,{children:["A nested hierarchy of ",(0,n.jsx)(i.strong,{children:"maps"})," (delimited by ",(0,n.jsx)(i.code,{children:"{"})," and ",(0,n.jsx)(i.code,{children:"}"}),") and ",(0,n.jsx)(i.strong,{children:"arrays"})," (delimited by ",(0,n.jsx)(i.code,{children:"["})," and ",(0,n.jsx)(i.code,{children:"]"}),"), starting with ",(0,n.jsx)(i.code,{children:"{ type: 'bar'..."})]}),"\n",(0,n.jsxs)(i.li,{children:["Within those arrays, we have ",(0,n.jsx)(i.strong,{children:"strings"}),", consisting of characters, delimited by ",(0,n.jsx)(i.code,{children:"'"})," here, such as ",(0,n.jsx)(i.code,{children:"'rgba(153, 102, 255, 1)'"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["But actually, that's another function call, which uses brackets to separate the ",(0,n.jsx)(i.strong,{children:"name"})," of the function ",(0,n.jsx)(i.code,{children:"rgba"})," from it's parameters."]}),"\n",(0,n.jsxs)(i.li,{children:["And ",(0,n.jsx)(i.em,{children:"those"})," ",(0,n.jsx)(i.strong,{children:"parameters"})," are separated by ",(0,n.jsx)(i.code,{children:","}),"s..."]}),"\n",(0,n.jsxs)(i.li,{children:["And the ",(0,n.jsx)(i.code,{children:"Chart"})," constructor is defined in a different ",(0,n.jsx)(i.code,{children:"package"}),", which is a collection of ",(0,n.jsx)(i.code,{children:"file"}),"s in a repository (maybe ",(0,n.jsx)(i.a,{href:"https://www.npmjs.com",children:"npm"})," or ",(0,n.jsx)(i.a,{href:"https://www.jsdelivr.com",children:"jsdelivr"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["Some hierarchy is ",(0,n.jsx)(i.em,{children:"indicated"})," using indentation of the code.  Some isn't."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["What is the take-away from this? ",(0,n.jsx)(i.strong,{children:"We heavily use syntax to indicate different types of hierarchies within software."}),"  Just look at all the different ways it happens above:  brackets, single-quotes, curly brackets, angle-brackets and tags, square brackets, double-quotes, commas and semi-colons."]}),"\n",(0,n.jsx)(i.h2,{id:"a-lisp-example",children:"A LISP Example"}),"\n",(0,n.jsx)(i.p,{children:"The above is an extreme example: there's a lot of different syntax going on in that ChartJS file!  At the other extreme, LISP code looks a bit like this:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-lisp",children:'(defun fibonacci (N)\n  "Compute the N\'th Fibonacci number."\n  (if (or (zerop N) (= N 1))\n      1\n    (+ (fibonacci (- N 1)) (fibonacci (- N 2))))) \n'})}),"\n",(0,n.jsx)(i.p,{children:"Hierarchy is really managed by just three things here:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"spaces, to split up children"}),"\n",(0,n.jsxs)(i.li,{children:["quotation marks (",(0,n.jsx)(i.code,{children:'"'}),"), to delineate strings and"]}),"\n",(0,n.jsxs)(i.li,{children:["Parentheses (",(0,n.jsx)(i.code,{children:"("})," ",(0,n.jsx)(i.code,{children:")"}),") which are capable of creating nested hierarchies."]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"a-desktop-example",children:"A Desktop Example"}),"\n",(0,n.jsx)(i.p,{children:"On the desktop, hierarchy is also re-invented multiple times."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"Navigating Hierarchies",src:s(2461).Z+"",width:"2559",height:"967"})}),"\n",(0,n.jsx)(i.p,{children:"Have a look at the image above.  Let's go through the different types of hierarchy here:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["At the desktop level, I have several programs running.  I can tab between them using ",(0,n.jsx)(i.code,{children:"CMD+Tab"}),", or I can see all the options listed vertically on the right hand side."]}),"\n",(0,n.jsxs)(i.li,{children:["One level down in the hierarchy, in Safari, Eclipse and VS-Code and Terminal, I have tabs, shown horizontally across the top of the window.  Tabs ",(0,n.jsx)(i.em,{children:"look"})," different in each of these, but navigating between those uses ",(0,n.jsx)(i.code,{children:"CTRL+Tab"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["I might also have multiple ",(0,n.jsx)(i.em,{children:"windows"})," in these applications (each with tabs inside).  It's not clear how I navigate in this level of the hierarchy."]}),"\n",(0,n.jsx)(i.li,{children:"Further, I also have a directory trees in VS-Code and Eclipse, both of which display the files/directories hierarchy vertically with indents.  Again, different navigation semantics for each."}),"\n",(0,n.jsxs)(i.li,{children:["Finally in Terminal, I can move up/down directory trees with the ",(0,n.jsx)(i.code,{children:"cd"})," command."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["So at the very least, we have a two hierarchies: applications/windows/tabs and directories/files.  You could say that the take-away from this example is that we use ",(0,n.jsx)(i.strong,{children:"looks"})," and ",(0,n.jsx)(i.strong,{children:"behaviour"})," to indicate these different types of hierarchy."]}),"\n",(0,n.jsx)(i.h2,{id:"hierarchies-everywhere",children:"Hierarchies Everywhere"}),"\n",(0,n.jsx)(i.p,{children:"Hierarchies are the wheel we're happy to re-invent over and over and over again!  What about:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Classes in a Package"}),"\n",(0,n.jsx)(i.li,{children:"Packages in a namespace"}),"\n",(0,n.jsx)(i.li,{children:"Repos in a Project"}),"\n",(0,n.jsx)(i.li,{children:"Projects within a GitHub organisation"}),"\n",(0,n.jsx)(i.li,{children:"Servers in a Data Centre"}),"\n",(0,n.jsx)(i.li,{children:"Teams of People"}),"\n",(0,n.jsx)(i.li,{children:"Countries, Counties, Towns etc."}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["We build hierarchies not just into software, but all over our societies.  They seem fundamental to how we understand things.   As well as ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Family_tree",children:"Family Trees"})," and ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Organizational_chart",children:"Organisation Charts"}),", we use hierarchies everywhere.  For example, biologists often break down the complexity of the human body like this:"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Organelles"})," - such as ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Mitochondrion",children:"Mitochondria"}),", contained in..."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Cells"})," - such as blood cells, nerve cells, skin cells in the ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/List_of_distinct_cell_types_in_the_adult_human_body",children:"Human Body"}),", inside..."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Organs"})," - like hearts livers, brains etc, held within..."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Organ Systems"})," - like the circulatory system, the immune system, the respiratory system, contained in..."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Organisms"})," - like you and me."]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["Wikipedia calls this a ",(0,n.jsx)(i.em,{children:"compositional containment hierarchy"}),":"]}),"\n",(0,n.jsxs)(i.blockquote,{children:["\n",(0,n.jsxs)(i.p,{children:['"The compositional hierarchy that every person encounters at every moment is the hierarchy of life. Every person can be reduced to organ systems, which are composed of organs, which are composed of tissues, which are composed of cells, which are composed of molecules, which are composed of atoms. In fact, the last two levels apply to all matter, at least at the macroscopic scale. Moreover, each of these levels inherit all the properties of their children. " - ',(0,n.jsxs)(i.a,{href:"https://en.wikipedia.org/wiki/Hierarchy#Nested_hierarchy",children:["Hierarchy, ",(0,n.jsx)(i.em,{children:"Wikipedia"})]})]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"the-curse-of-reinvention",children:"The Curse Of Reinvention"}),"\n",(0,n.jsxs)(i.p,{children:["Sadly in the world of computing, there is no common abstraction for all of these types of hierarchy, we have to learn different APIs for operating across them all.  There's no way to observe that since ",(0,n.jsx)(i.em,{children:"files"})," in a ",(0,n.jsx)(i.em,{children:"directories"})," is a hierarchy, and ",(0,n.jsx)(i.em,{children:"tabs"})," in a ",(0,n.jsx)(i.em,{children:"browser"})," is also a hierarchy there should be a common way of navigating that structure."]}),"\n",(0,n.jsxs)(i.p,{children:["Why do we keep re-inventing the same thing?  Is there a ",(0,n.jsx)(i.em,{children:"reason"})," for this lack of abstraction, or is it an accident?"]}),"\n",(0,n.jsx)(i.h2,{id:"syntax-trees",children:"Syntax Trees"}),"\n",(0,n.jsxs)(i.p,{children:["One potential reason is ",(0,n.jsx)(i.em,{children:"syntactic sugar"}),"."]}),"\n",(0,n.jsx)(i.p,{children:"In a strongly-typed language like Java, for example we might have this:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:'public class Numbers {\n    public static void main(String[] args) {\n         System.out.print("This is a number: " + 4);\n    }\n}\n'})}),"\n",(0,n.jsxs)(i.p,{children:["The Eclipse IDE has an ",(0,n.jsx)(i.em,{children:"AST View"})," which you can install, which allows you to see the compositional hierarchy of this Java code ",(0,n.jsx)(i.em,{children:"as the Eclipse compiler understands it."}),"  However, this is an ",(0,n.jsx)(i.em,{children:"excerpt"})," for the above program. The full hierarchical view is a lot larger (",(0,n.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(71821).Z+"",children:"6107 lines, in fact"}),")."]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"> type binding: org.riskfirst.website.preprocessor.Numbers\n  BODY_DECLARATIONS (1)\n    > method binding: Numbers.main(String[])\n      BODY\n        STATEMENTS (1)\n          EXPRESSION\n            MethodInvocation [121+42]\n              > method binding: PrintStream.print(String)\n              EXPRESSION\n                QualifiedName [121+10]\n                  > variable binding: System.out\n              ARGUMENTS (1)\n                InfixExpression [138+24]\n                  > (Expression) type binding: java.lang.String\n                  LEFT_OPERAND\n                    StringLiteral [138+20]\n                      ESCAPED_VALUE: '\"This is a number: \"'\n                  OPERATOR: '+'\n                  RIGHT_OPERAND\n                    NumberLiteral [161+1]\n                      TOKEN: '4'\n"})}),"\n",(0,n.jsx)(i.p,{children:"So arguably, using all this different syntax helps us:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Keep track of where in the hierarchy we are."}),"\n",(0,n.jsx)(i.li,{children:"Reduce the amount of space used to display the same information."}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["... however, just because you're doing that, doesn't mean that some ",(0,n.jsx)(i.em,{children:"common abstraction"})," wouldn't still be useful."]}),"\n",(0,n.jsx)(i.h2,{id:"intent",children:"Intent"}),"\n",(0,n.jsxs)(i.p,{children:["A second reason for this multitude of hierarchies goes back to explaining the use to which they are put.   Because of LISP's parsimony, you miss out on knowing what the different ",(0,n.jsx)(i.em,{children:"types"})," of hierarchy are.   You don't know whether you're looking at XML attributes or elements, or array structures, or maps, so it's harder to understand the purpose of the hierarchy.  In the ChartJS example, assuming you ",(0,n.jsx)(i.em,{children:"know what you're looking at"}),", the purpose of these different hierarchies is a lot clearer."]}),"\n",(0,n.jsxs)(i.p,{children:["Also, you miss out on the huge number of ",(0,n.jsx)(i.code,{children:")))))"}),"s that you get with LISP."]}),"\n",(0,n.jsx)(i.h2,{id:"without-compositional-hierarchy",children:"Without Compositional Hierarchy"}),"\n",(0,n.jsx)(i.p,{children:"Where would we be without compositional hierarchy in our software code?  It's not impossible to imagine:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["We could write code in a stack-less, ",(0,n.jsx)(i.code,{children:"goto"}),"-oriented way, but such programs are extremely hard to reason about, as discussed in E.W. Dijkstra's seminal paper ",(0,n.jsx)(i.a,{href:"https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf",children:"Goto Considered Harmful"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Finite-state_machine",children:"Finite State Machines"})," are a pretty useful tool in the toolbox, managing state transitions, but without hierarchy (although you could build a finite hierarchy within them)."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Turing_machine",children:"Turing Machines"})," and the ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Brainfuck",children:"BrainFuck"})," language both manage without any kind of hierarchy, and are ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Turing_completeness",children:"Turing Complete"}),", meaning that you can do ",(0,n.jsx)(i.em,{children:"any kind of computing in them"}),".  Although, they're both very hard to reason about."]}),"\n"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"# Hello World, in BrainFuck\n\n+[--\x3e-[>>+>-----<<]<--<---]>-.>>>+.>>..+++[.>]<<<<.+++.------.<<-.>>>>+.\n"})}),"\n",(0,n.jsx)(i.h2,{id:"subsumptive-hierarchies",children:"Subsumptive Hierarchies"}),"\n",(0,n.jsxs)(i.blockquote,{children:["\n",(0,n.jsxs)(i.p,{children:['"A subsumptive containment hierarchy is a classification of object classes from the general to the specific. " - ',(0,n.jsxs)(i.a,{href:"https://en.wikipedia.org/wiki/Hierarchy#Subsumptive_containment_hierarchy",children:["Hierarchies, ",(0,n.jsx)(i.em,{children:"Wikipedia"})]})]}),"\n"]}),"\n",(0,n.jsxs)(i.p,{children:["The other type of hierarchy we come across both in software and everywhere else in the human experience is the ",(0,n.jsx)(i.em,{children:"classification hierarchy"})," or ",(0,n.jsx)(i.em,{children:"subsumptive hierarchy"}),".   For example: ",(0,n.jsx)(i.em,{children:"people"})," are a type of ",(0,n.jsx)(i.em,{children:"mammal"})," which is a type of ",(0,n.jsx)(i.em,{children:"animal"}),".  This kind of thinking is embedded deeply in type systems and object-oriented programming."]}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Type_system",children:"Type Systems"}),' are built on the concept of subsumptive hierarchies.  Unlike composition, with subsumptive hierarchies, you can classify things along many axes.  For example, a cup might fit into the classifications "drinking receptacle", "kitchenware" and "Star-Wars memorabilia" all at the same time.']}),"\n",(0,n.jsxs)(i.p,{children:["A lot of the power of ",(0,n.jsx)(i.em,{children:"Interfaces"}),' in programming languages comes from being able to do this.  This leads to a really interesting point:  whenever we "reach out" of the compositional hierarchy of a software program to call another piece of code (via calling a function or a variable) we ',(0,n.jsx)(i.em,{children:"fall back"})," to using the classification hierarchy to determine whether that connection is a valid one."]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:'public class Numbers {\n    public static void main(String[] args) {\n         System.out.print("This is a number: " + 4);\n    }\n}\n'})}),"\n",(0,n.jsxs)(i.p,{children:["In the above snippet of Java code, there is a place where we ",(0,n.jsx)(i.em,{children:"leave"})," the compositional hierarchy to call a static function from somewhere else:  ",(0,n.jsx)(i.code,{children:"System.out.println"}),". When this happens, we rely on the ",(0,n.jsx)(i.em,{children:"classification hierarchy"})," of the Java Type System to determine whether that call is acceptable.  ",(0,n.jsx)(i.code,{children:"System.out.println"}),": ",(0,n.jsx)(i.em,{children:"takes"})," a ",(0,n.jsx)(i.code,{children:"String"})," as it's argument, and it's the job of the ",(0,n.jsx)(i.em,{children:"type checker"})," to make sure that this call-outside-the-hierarchy will work."]}),"\n",(0,n.jsxs)(i.p,{children:["This is a good example of ",(0,n.jsx)(i.em,{children:"compositional"})," and ",(0,n.jsx)(i.em,{children:"subsumptive"})," hierarchies working together."]}),"\n",(0,n.jsx)(i.h2,{id:"planets",children:"Planets"}),"\n",(0,n.jsx)(i.p,{children:"Subsumptive hierarchies are difficult for a couple of reasons.  The first being how to decide what's in and what's out of the category."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"Eris, From Wikipedia (NASA, ESA, and A. Schaller (for STScI))",src:s(25800).Z+"",width:"1533",height:"699"})}),"\n",(0,n.jsxs)(i.p,{children:["(Eris, from ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Eris_(dwarf_planet)#/media/File:2006-16-a-full-1-.jpg",children:"Wikipedia"}),")"]}),"\n",(0,n.jsxs)(i.p,{children:["As an example of this, let's consider ",(0,n.jsx)(i.em,{children:"planets"}),". The definition of a planet is quite bogus, and has changed over time:"]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:["The Greeks coined ",(0,n.jsx)(i.em,{children:"asteres planetai"})," to be the class of objects in the sky that moved separately from the rest of the body of stars.   Possibly including moons, comets and asteroids. ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Definition_of_planet#Planets_in_antiquity",children:"1"}),"."]}),"\n",(0,n.jsxs)(i.li,{children:["However, after the ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Definition_of_planet#satellites",children:"Copernican Revolution"})," made the moon a satellite of earth, the defintion of planets seemed to be ",(0,n.jsx)(i.em,{children:"bodies orbiting the sun"}),", and there were just 9 of them: Mercury, Mars, Earth, Venus, Saturn, Jupiter, Uranus, Neptune and Pluto."]}),"\n",(0,n.jsxs)(i.li,{children:["In 2005, ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Definition_of_planet#Pluto",children:"The Discovery of Eris"}),", a body ",(0,n.jsx)(i.em,{children:"larger"})," than Pluto orbiting in a trans-Neptunian orbit meant that ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/Trans-Neptunian_object#/media/File:TheTransneptunians_73AU.svg",children:"potentially hundreds of objects"})," deserved the term planet."]}),"\n",(0,n.jsxs)(i.li,{children:["In response, Pluto was demoted to being a ",(0,n.jsx)(i.em,{children:"dwarf planet"}),'.  In order to do this, the definition of planet was changed to include the clause that it had "cleared its neighbourhood" of most other orbiting bodies.  This excluded Kuiper-Belt objects such as Pluto, but is ',(0,n.jsx)(i.em,{children:"still problematic"}),", as Alan Stern discusses below."]}),"\n"]}),"\n",(0,n.jsxs)(i.blockquote,{children:["\n",(0,n.jsxs)(i.p,{children:['"I and many other planetary scientists \u2014 like the almost 400 that signed a petition against the IAU in 2006 \u2014 have a problem with the IAU definition because the implications of it are just nonsensical.  Here\'s why. The IAU\'s "zone-clearing" criteria, when worked out mathematically, means that to qualify as a planet at larger and larger distances from the sun, a body has to have more and more mass than it would in a closer orbit. This is in part because the zones get larger (like distance cubed, or volume) as you go outward; it\'s also in part because orbital speeds are slower further out, so zone-clearing takes longer." - ',(0,n.jsxs)(i.a,{href:"https://www.space.com/9594-fighting-pluto-planet-title-planetary-scientist-alan-stern.html",children:["Alan Stern, ",(0,n.jsx)(i.em,{children:"Fighting for Pluto's Planet Title"})]})]}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"So the problem comes down to the fact that, on one hand, we want a nice classification of the eight or nine largest objects orbiting our sun, rather than a messy classification of hundreds."}),"\n",(0,n.jsx)(i.h2,{id:"generics",children:"Generics"}),"\n",(0,n.jsxs)(i.p,{children:["The second problem with subsumptive hierarchies is that the ",(0,n.jsx)(i.em,{children:"composition creeps back in"}),": you can't do everything just with a subsumptive hierarchy.  This means that we end up with type definitions like this:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:"public interface Map<K,V> {\n\n\t...\n\t\n\tV get(Object key);\n\t\n\t...\n}\n"})}),"\n",(0,n.jsxs)(i.p,{children:["This is saying that a ",(0,n.jsx)(i.code,{children:"Map"})," is composed with a key type ",(0,n.jsx)(i.code,{children:"K"})," and a value type ",(0,n.jsx)(i.code,{children:"V"}),".  Our subsumptive hierarchy of types ends up making use of compositional hierarchy!"]}),"\n",(0,n.jsx)(i.h2,{id:"both-hierarchies-together",children:"Both Hierarchies Together"}),"\n",(0,n.jsx)(i.p,{children:"So to recap, there are two key types of hierarchy:"}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsxs)(i.strong,{children:[(0,n.jsx)(i.em,{children:"Compositional"})," hierarchies"]})," are used ",(0,n.jsx)(i.em,{children:"everywhere"})," in software development: ",(0,n.jsx)(i.em,{children:"files"})," in ",(0,n.jsx)(i.em,{children:"disks"})," in ",(0,n.jsx)(i.em,{children:"servers"}),", ",(0,n.jsx)(i.em,{children:"methods"})," and ",(0,n.jsx)(i.em,{children:"functions"})," in ",(0,n.jsx)(i.em,{children:"packages"})," and ",(0,n.jsx)(i.em,{children:"namespaces"})," etc.  Good programming languages attempt to capture as much of the program's complexity as possible within the containment hierarchy."]}),"\n",(0,n.jsx)(i.p,{children:"People understand compositional hierarchies because they're baked into (and invented by) our brains.  When I look outside at a car, I can see that it is a compositional hierarchy of windows, wheels and metal panels.  When I think about my house, I think about different objects being contained within different rooms within a structure of bricks.  But none of that exists:  it's all in my head.  Everything is really just a bunch of atoms."}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsxs)(i.strong,{children:[(0,n.jsx)(i.em,{children:"Subsumptive"})," hierarchies"]})," are also used everywhere in software development: ",(0,n.jsx)(i.em,{children:"strings"}),", ",(0,n.jsx)(i.em,{children:"numbers"}),", ",(0,n.jsx)(i.em,{children:"records"}),", ",(0,n.jsx)(i.em,{children:"classes"}),", ",(0,n.jsx)(i.em,{children:"types"}),", ",(0,n.jsx)(i.em,{children:"schemas"}),'.   A key ability for a programmer is often to be able to abstract from multiple areas and say "this is like this".   By noticing ',(0,n.jsx)(i.em,{children:"patterns of classification"})," we can save on the amount of code we have to write."]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"Compositional hierarchies on a larger project:  methods, classes, packages, directories, projects",src:s(85911).Z+"",width:"1780",height:"634"})}),"\n",(0,n.jsxs)(i.p,{children:["In Eclipse (my Java IDE) I can therefore view ",(0,n.jsx)(i.em,{children:"both"})," these types of hierarchy.  In the above screen-grab, you can see some more compositional hierarchy on the left: ",(0,n.jsx)(i.em,{children:"methods"}),", ",(0,n.jsx)(i.em,{children:"classes"}),", ",(0,n.jsx)(i.em,{children:"packages"}),", ",(0,n.jsx)(i.em,{children:"directories"})," and ",(0,n.jsx)(i.em,{children:"projects"}),"."]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"Classification hierarchy of the Resource class from Spring",src:s(81551).Z+"",width:"1886",height:"654"})}),"\n",(0,n.jsxs)(i.p,{children:["Whereas in this screen grab, I can view the hierarchy of a ",(0,n.jsx)(i.em,{children:"class"})," within Java (here the ",(0,n.jsx)(i.code,{children:"Resource"})," class from ",(0,n.jsx)(i.a,{href:"https://spring.io/projects/spring-hateoas",children:"Spring"}),")."]}),"\n",(0,n.jsx)(i.h2,{id:"compositional-hierarchy-implementations",children:"Compositional Hierarchy Implementations"}),"\n",(0,n.jsx)(i.h3,{id:"java",children:"Java"}),"\n",(0,n.jsxs)(i.p,{children:["Because hierarchies are so trivial to implement in software systems, they tend to be implemented ",(0,n.jsx)(i.em,{children:"over and over again"}),".   In Java, I can build a hierarchy out of nested ",(0,n.jsx)(i.code,{children:"List"})," objects, or nested ",(0,n.jsx)(i.code,{children:"Arrays"}),", or I can explore the hierarchy of an XML document via nested ",(0,n.jsx)(i.code,{children:"Node"}),"s.   Each has a different set of methods for navigating them."]}),"\n",(0,n.jsxs)(i.p,{children:["Nevertheless, there are some after-the-fact efforts to provide consistent interfaces across hierarchies, such as ",(0,n.jsx)(i.a,{href:"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html",children:"Spring Expression Language"})," or ",(0,n.jsx)(i.a,{href:"https://commons.apache.org/proper/commons-jxpath/",children:"JXPath"})," provide a consistent hierarchical abstraction over these, so that I can write:"]}),"\n",(0,n.jsx)(i.h3,{id:"urls",children:"URLs"}),"\n",(0,n.jsx)(i.p,{children:"A second example to look at is the URL.  URL paths have hierarchy built into them.   I can navigate upwards from from a child to successive levels of parent like so:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-bash",children:"https://github.com/robmoffat/kite9-visualization/actions # Actions on one of my github projects\nhttps://github.com/robmoffat/kite9-visualization         # One of my github projects\nhttps://github.com/robmoffat                             # All of my projects\nhttps://github.com                                       # Top level of github\n"})}),"\n",(0,n.jsxs)(i.p,{children:["This ",(0,n.jsx)(i.em,{children:"usually"})," works, but isn't guaranteed to (there might be some intermediate levels within the URL scheme which yield ",(0,n.jsx)(i.code,{children:"404 - Not Found"})," pages)."]}),"\n",(0,n.jsxs)(i.p,{children:['However, going the other way (from parent to child) isn\'t so easy: there is no corresponding standard to say "this URL has these children".  Instead, I am presented with a screen of HTML to look at, but there is no guarantee that the links it contains will take me to ',(0,n.jsx)(i.em,{children:"child"})," pages in a hierarchy."]}),"\n",(0,n.jsx)(i.h3,{id:"hateoas",children:"HATEOAS"}),"\n",(0,n.jsxs)(i.p,{children:["A poorly-adopted example of what this might look like is ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/HATEOAS",children:"HATEOAS - Hypertext As The Engine Of Application State"}),".   When you do a REST request and get a HATEOAS response, you indeed get links to all child resources.  Requesting the URL ",(0,n.jsx)(i.code,{children:"/accounts/12345/"})," would return a response like:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:'{\n    "account": {\n        "account_number": 12345,\n        "balance": {\n            "currency": "usd",\n            "value": 100.00\n        },\n        "links": {\n            "deposit": "/accounts/12345/deposit",\n            "withdraw": "/accounts/12345/withdraw",\n            "transfer": "/accounts/12345/transfer",\n            "close": "/accounts/12345/close"\n        }\n    }\n}\n'})}),"\n",(0,n.jsxs)(i.p,{children:["(Example from ",(0,n.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/HATEOAS#Example",children:"Wikipedia"}),")"]}),"\n",(0,n.jsxs)(i.p,{children:["But even HATEAOS isn't really representing a compositional hierarchy here:  those ",(0,n.jsx)(i.code,{children:"links"})," could point off to ",(0,n.jsx)(i.em,{children:"anywhere"}),"."]}),"\n",(0,n.jsx)(i.h2,{id:"why-bother",children:"Why Bother?"}),"\n",(0,n.jsxs)(i.p,{children:["So, what are we missing out on here? Why is this a big deal?  In a word, it's about ",(0,n.jsx)(i.em,{children:"consistency"}),", as with every abstraction.  In many programming languages there is the concept of the ",(0,n.jsx)(i.code,{children:"namespace"}),", which ensures we have a consistent ",(0,n.jsx)(i.strong,{children:"subsumption hierarchy"}),".  In fact, this is what allows us to use different packages together in a project, and not end up having the types clash with each other."]}),"\n",(0,n.jsxs)(i.p,{children:["But by lacking consistent ",(0,n.jsx)(i.strong,{children:"compositional hierarchy"}),", either within a language or across all software systems, we lose the ability to navigate the world's information easily.  URLs go some way to achieving this, but not far enough!"]}),"\n",(0,n.jsxs)(i.p,{children:["In the next article, we'll look at ",(0,n.jsx)(i.a,{href:"/complexity/Crystals-And-Code",children:"Crystals And Code"}),", and how the lack of consistent abstractions means that our Information Systems are perpetually broken."]})]})}function d(e={}){const{wrapper:i}={...(0,t.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},71821:(e,i,s)=>{s.d(i,{Z:()=>n});const n=s.p+"assets/files/ast-1bfd163f6525d0e56fe80aeb611bfb2c.txt"},25800:(e,i,s)=>{s.d(i,{Z:()=>n});const n=s.p+"assets/images/eris-1299b8edb9478fb3441dc859371a7511.png"},81551:(e,i,s)=>{s.d(i,{Z:()=>n});const n=s.p+"assets/images/classification-352f85689a069898c79e34ea266b0c7a.png"},85911:(e,i,s)=>{s.d(i,{Z:()=>n});const n=s.p+"assets/images/containment-6db3168a842ff021cc78d9fc8ef1df64.png"},2461:(e,i,s)=>{s.d(i,{Z:()=>n});const n=s.p+"assets/images/desktop-44c824ab17c858a81afad52e87921cde.png"},11151:(e,i,s)=>{s.d(i,{Z:()=>h,a:()=>a});var n=s(67294);const t={},r=n.createContext(t);function a(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function h(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);